<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <!-- Datepicker CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Project1.css" />
    <link rel="stylesheet" href="fontawesome/css/all.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
      integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
      crossorigin="anonymous"
    ></script>
    <script src="js/jquery-3.6.3.min.js"></script>
    <!-- Datepicker JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
   

    <title>Aksesoris</title>
  </head>

  <body>
    <header>
      <nav>
        <div class="nav-brand">
          <a href="#">
            <img src="img/Melati.jfif" alt="Logo" />
            Melati Gold Shop
          </a>
        </div>
        <div class="left-nav">
          <div class=""><span id="tgl" class="font-weight-bold"></span></div>
          <div class="dropdown">
            <button
              class="btn btn-secondary dropdown-toggle akun"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              K
            </button>
            <ul class="dropdown-menu">
              <li><span><i class="fa-solid fa-user"></i></span><button class="dropdown-item" type="button" >Tambah Sales</button></li>
              <li><span><i class="fa-solid fa-gear"></i></span><button class="dropdown-item" type="button">Pengaturan Printer</button></li>
              <li>
                <span><i class="fa-solid fa-download opacity-75"></i></span
                ><button class="dropdown-item" type="button">
                  Unduh Konektor Printer
                </button>
              </li>
              <li>
                <button class="dropdown-item" type="button">Logout</button>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <main>
      <div class="mainbar">
        <h4>Aksesoris Perhiasan</h4>
        <div class="maintop">
          <p>Tambah Aksesoris</p>
        </div>
        <div class="container">
          <div class="dataSales border-bottom pb-5">
            <form class="row g-3 pt-2">
              <div class="col-md-4">
                <label for="tanggal" class="form-label">Tanggal</label>
                <div class="d-flex justify-content-center align-items-center">
                  <input
                    type="text"
                    class="form-control"
                    id="tanggal"
                    placeholder="Masukkan tanggal"
                  />
                  <i
                    class="fa-solid fa-calendar-days text-light border rounded opacity-75"
                    id="calendarIcon"
                    style="cursor: pointer"
                  ></i>
                </div>
              </div>
              <div class="col-md-4">
                <label for="noServis" class="form-label">Jenis Aksesoris</label>
                <div
                  class="d-flex jenisPengeluaran justify-content-between gap-1"
                >
                  <select
                    class="form-select form-select-sm"
                    aria-label=".form-select-sm example"
                  >
                    <option selected>Pilih Kategori</option>
                    <option id="jenis-kotak" value="1">Kotak Perhiasan</option>
                    <option id="jenis-aksesoris" value="2">
                      Aksesoris Perhiasan
                    </option>
                  </select>
                </div>
              </div>
            </form>
          </div>
          <div class="dataBarang border-bottom pt-3 pb-1">
            <div class="d-flex justify-content-between">
              <h6>Detail Barang</h6>
              <button
                type="button"
                class="btn btn-outline-primary"
                id="btnTambahAksesoris"
              >
                Tambah
              </button>
            </div>
            <table class="table" id="tableTambahAksesoris">
              <thead class="table">
                <tr>
                  <th>Kode Barang</th>
                  <th>Nama Barang</th>
                  <th>Jumlah</th>
                  <th>Harga Satuan</th>
                  <th>Total Harga</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <select
                      id="kode-barang"
                      class="form-select form-select-sm"
                      aria-label=".form-select-sm example"
                    >
                      <!-- Opsi akan diisi oleh JavaScript -->
                    </select>
                  </td>
                  <td>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Nama Barang"
                      id="nama-barang"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Jumlah"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Harga Per Pcs"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Total Harga"
                    />
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <button class="btn btn-primary mt-3">Simpan Data</button>
        </div>
      </div>

      <aside class="sidebar">
        <ul>
          <li>
            <a href="index.html" class="dashboard">Dashboard</a>
          </li>
          <li>
            <a href="#" class="inpt-btn" data-target="inpt-show"
              >Input Data<span class="fas fa-caret-down first"></span
            ></a>
            <ul class="inpt-btn" id="inpt-show">
              <li><a href="#">Aksesoris Perhiasan</a></li>
              <li><a href="dataServis.html">Data Servis</a></li>
              <li><a href="Summary.html">Data Kasir</a></li>
            </ul>
          </li>
          <li>
            <a href="#" class="sell-btn" data-target="sell-show"
              >Penjualan<span class="fas fa-caret-down first"></span
            ></a>
            <ul class="sell-btn" id="sell-show">
              <li><a href="penjualanManual.html">Penjualan Manual</a></li>
              <li><a href="penjualanKotak.html">Penjualan Kotak</a></li>
            </ul>
          </li>
          <li>
            <a href="#" class="utlt-btn" data-target="utlt-show"
              >Utility<span class="fas fa-caret-down second"></span
            ></a>
            <ul class="utlt-show" id="utlt-show">
              <li><a href="#">Edit Data</a></li>
            </ul>
          </li>
          <li>
            <a href="#" class="lprn-btn" data-target="lprn-show"
              >Laporan<span class="fas fa-caret-down third"></span
            ></a>
            <ul class="lprn-show" id="lprn-show">
              <li><a href="#">Laporan Aksesoris</a></li>
              <li><a href="#">Laporan Data Servis</a></li>
              <li><a href="#">Laporan Penjualan</a></li>
              <li><a href="#">Laporan Kasir</a></li>
            </ul>
          </li>
        </ul>
      </aside>
    </main>
    <script>
//   
document.addEventListener("DOMContentLoaded", function () {
    const selectKategori = document.querySelector(".form-select");
    const kodeBarang = document.getElementById("kode-barang");
    const namaBarang = document.getElementById("nama-barang"); // Input nama barang
    const btnTambahAksesoris = document.getElementById("btnTambahAksesoris");
    const tbody = document.querySelector("#tableTambahAksesoris tbody");

    const opsiKotak = [
        { value: "1", text: "K30", nama: "Kotak 30" },
        { value: "2", text: "K40", nama: "Kotak 40" },
        { value: "3", text: "K50 CINCIN", nama: "Kotak 50 Cincin" },
        { value: "4", text: "K50 KALUNG", nama: "Kotak 50 Kalung" },
        { value: "5", text: "K60", nama: "Kotak 60" },
        { value: "6", text: "K70 GELANG", nama: "Kotak 70 Gelang" },
        { value: "7", text: "K70 GIFTBOX", nama: "Kotak 70 Giftbox" },
        { value: "8", text: "K80", nama: "Kotak 80" },
        { value: "9", text: "K150", nama: "Kotak 150" },
        { value: "10", text: "K200", nama: "Kotak 200" }
    ];

    const opsiAksesoris = [
        { value: "1", text: "LS", nama: "Lock S" },
        { value: "2", text: "LB", nama: "Lock Bulat" },
        { value: "3", text: "LL", nama: "Lock Lobster" },
        { value: "4", text: "LLM", nama: "Lock Lobster Medium" },
        { value: "5", text: "BT", nama: "Butterfly Giwang" },
        { value: "6", text: "SL", nama: "Silikon Cincin" },
        { value: "7", text: "LAP", nama: "Lap Perhiasan" },
        { value: "8", text: "CR", nama: "Gift Card" },
        { value: "9", text: "TG", nama: "Tali Gelang" }
    ];

    const updateOptions = (options) => {
        kodeBarang.innerHTML = ""; 
        options.forEach(option => {
            const opt = document.createElement("option");
            opt.value = option.value;
            opt.textContent = option.text;
            opt.dataset.nama = option.nama; // Simpan nama barang di atribut data
            kodeBarang.appendChild(opt);
        });
    };

    kodeBarang.addEventListener("change", function () {
        const selectedOption = kodeBarang.options[kodeBarang.selectedIndex];
        const nama = selectedOption.dataset.nama || ""; // Ambil nama dari atribut data
        namaBarang.value = nama; // Isi input nama barang
    });

    selectKategori.addEventListener("change", function () {
        if (this.value === "1") {
            updateOptions(opsiKotak);
        } else if (this.value === "2") {
            updateOptions(opsiAksesoris);
        } else {
            kodeBarang.innerHTML = "<option selected>Pilih Kode Barang</option>";
            namaBarang.value = ""; // Kosongkan input nama barang
        }
    });

    const tambahBaris = (options) => {
    const tr = document.createElement("tr");

    // Buat elemen HTML baris baru
    tr.innerHTML = `
        <td>
            <select class="form-select form-select-sm kode-barang">
                ${options.map(option => `<option value="${option.value}" data-nama="${option.nama}">${option.text}</option>`).join("")}
            </select>
        </td>
        <td><input type="text" class="form-control nama-barang" placeholder="Nama Barang" readonly></td>
        <td><input type="text" class="form-control" placeholder="Jumlah"></td>
        <td><input type="text" class="form-control" placeholder="Harga Per Pcs"></td>
        <td><input type="text" class="form-control" placeholder="Total Harga"></td>
        <td><button type="button" class="btn btn-danger btn-sm btn-hapus">Hapus</button></td>
    `;

    tbody.appendChild(tr);

    // Event listener untuk mengisi nama barang secara otomatis
    const kodeBarangSelect = tr.querySelector(".kode-barang");
    const namaBarangInput = tr.querySelector(".nama-barang");

    kodeBarangSelect.addEventListener("change", function () {
        const selectedOption = kodeBarangSelect.options[kodeBarangSelect.selectedIndex];
        const nama = selectedOption.dataset.nama || "";
        namaBarangInput.value = nama; // Isi input nama barang
    });

    // Tambahkan event listener ke tombol hapus
    tr.querySelector(".btn-hapus").addEventListener("click", function () {
        tbody.removeChild(tr);
    });
};


btnTambahAksesoris.addEventListener("click", function () {
    const kategori = selectKategori.value;
    if (kategori === "1") {
        tambahBaris(opsiKotak); // Tambahkan baris dengan opsi kotak
    } else if (kategori === "2") {
        tambahBaris(opsiAksesoris); // Tambahkan baris dengan opsi aksesoris
    } else {
        alert("Pilih kategori terlebih dahulu!");
    }
});

    updateOptions(opsiKotak); // Inisialisasi opsi dengan opsiKotak
});


$(document).ready(function () {
    // Menetapkan datepicker pada input dengan id 'tanggal'
    $(document).ready(function () {
  // Inisialisasi Datepicker
  $('#tanggal').datepicker({
      format: 'yyyy-mm-dd', // Format tanggal
      autoclose: true, // Tutup otomatis setelah pilih tanggal
      todayHighlight: true // Sorot tanggal hari ini
  });

  // Tambahkan event listener pada ikon kalender
  $('#calendarIcon').on('click', function () {
      $('#tanggal').datepicker('show'); // Tampilkan Datepicker saat ikon diklik
  });
});

    // Mengisi input dengan tanggal hari ini
    var today = new Date();
    var dd = String(today.getDate()).padStart(2, '0');
    var mm = String(today.getMonth() + 1).padStart(2, '0'); // Bulan dimulai dari 0
    var yyyy = today.getFullYear();
    today = yyyy + '-' + mm + '-' + dd; // Format tanggal: yyyy-mm-dd

    $('#tanggal').val(today); // Mengisi nilai input dengan tanggal hari ini
  });


    </script>
    <script src="js/melati.js"></script>
  </body>
</html>
